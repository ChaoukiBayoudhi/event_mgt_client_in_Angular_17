<a [routerLink]="['../event/add']" mat-raised-button color="primary" style="float: right" id="add">Add Event</a>

<h1>List of events</h1>
@if (loading) {
<div>
  <p>Loading...</p>
</div>
}@else {
  @if(feedback.message) {
    <div class="alert alert-{{feedback.type}}">
      {{ feedback.message }}
    </div>
  }

<table mat-table [dataSource]="events" class="mat-elevation-z8" aria-label="List of events">
  <ng-container matColumnDef="id">
    <th mat-header-cell *matHeaderCellDef> Id </th>
    <td mat-cell *matCellDef="let event"> {{event.id}} </td>
  </ng-container>

  <ng-container matColumnDef="name">
    <th mat-header-cell *matHeaderCellDef> Name </th>
    <td mat-cell *matCellDef="let event"> {{event.name}} </td>
  </ng-container>

  <ng-container matColumnDef="description">
    <th mat-header-cell *matHeaderCellDef> Description </th>
    <td mat-cell *matCellDef="let event"> {{event.description}} </td>
  </ng-container>

  <ng-container matColumnDef="theme">
    <th mat-header-cell *matHeaderCellDef> Theme </th>
    <td mat-cell *matCellDef="let event"> {{event.theme}} </td>
  </ng-container>

  <ng-container matColumnDef="date">
    <th mat-header-cell *matHeaderCellDef> Date </th>
    <td mat-cell *matCellDef="let event"> {{event.date}} </td>
  </ng-container>
  <ng-container matColumnDef="budget">
    <th mat-header-cell *matHeaderCellDef> Budget </th>
    <td mat-cell *matCellDef="let event"> {{event.budget}} </td>
  </ng-container>
  <ng-container matColumnDef="nbPlaces">
    <th mat-header-cell *matHeaderCellDef> Nb Places </th>
    <td mat-cell *matCellDef="let event"> {{event.nbPlaces}} </td>
  </ng-container>

  <ng-container matColumnDef="actions">
    <th mat-header-cell *matHeaderCellDef> Actions </th>
    <td mat-cell *matCellDef="let event">
    <a [routerLink]="['../event/', event.id]" mat-raised-button color="accent">Edit</a>&nbsp;
      <button mat-icon-button color="warn" (click)="deleteEvent(event)">
        <mat-icon>delete</mat-icon>
      </button>
    </td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row *matRowDef="let event; columns: displayedColumns;"></tr>
</table>
}

